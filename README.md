# Outage Telegram Bot

Бот: вводиш адресу → визначає чергу/підчергу → показує графік на сьогодні.
Якщо є зміни — надсилає апдейт. За 10 хв до вимкнення/вмикання — нагадування.

## Швидкий старт (Docker)
```bash
cp .env.example .env
# заповни BOT_TOKEN і інші поля
docker compose up --build
# застосує міграції, запустить бота, парсер (щохвилини імітація), планувальник
```

## Локальний старт (без Docker)
```bash
cp .env.example .env
npm i
npm run migrate
npm run dev:bot      # в одному терміналі
npm run dev:parser   # в іншому (можеш запускати щогодини cron-ом)
npm run dev:scheduler
```

## Команди бота
- `/start` — інструкція
- `/address` — задати адресу (надсилаєш "Кременчук, Халаменюка 12")
- `/today` — показати інтервали сьогодні
- `/unsubscribe` — вимкнути сповіщення

## Що доробити під прод
- **addressResolver.ts** — підключити реальний он-деманд виклик офіційної форми (та кеш).
- **parser.ts** — реалізувати парсинг офіційних оголошень (щогодини).
- Якщо потрібен webhook-режим — повісь HTTP-сервер і налаштуй `BOT_MODE=webhook`, `BOT_WEBHOOK_URL`.
- Моніторинг: логи + алерти при 3 збоях парсингу поспіль.
